<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button color="light" menu="first"></ion-menu-button>
    </ion-buttons>
    <ion-title color="light">Formulario convergencia</ion-title>
  </ion-toolbar>
</ion-header>




<ion-content>
  <ion-grid class="ion-no-padding">
    <!-- logo -->
    <ion-row class="header ion-align-items-start ion-align-items-stretch">
      <ion-col size="10" offset="1" size-md="6" offset-md="3">
        <img class="logo" src="../assets/icon/logoAMS.png" />
      </ion-col>

      <!-- Section form>-->
      <ion-col size="10" offset="1" size-md="6" offset-md="3">
        <form id="form" (ngSubmit)="guardar( f )" #f="ngForm">
          <ion-row class="ion-align-items-start">
            <ion-col size="12">
              <h6>{{usuario.nombre}}, {{usuario.canal}}</h6>
              <h1><strong class="text-logo">Convergencia,</strong> Registra los datos de tu cliente.</h1>
            </ion-col>
          </ion-row>
          <!-- Input-field -->
          <ion-row>
            <ion-col size="12">
              <div class="input-field">
                <!-- Input-field-text -->
                <ion-item >
                  <ion-input [(ngModel)]="formulario.cedula_cliente"  name="cedulacliente" type="text" placeholder="Cedula Cliente" required></ion-input>
                   <ion-label class="ion-no-margin" *ngIf="f.submitted && f.controls['cedulacliente'].errors">Este campo es obligatorio</ion-label> 
                </ion-item>

                <ion-item >
                  <ion-input [(ngModel)]="formulario.linea_cliente" name="lineacliente" type="text" placeholder="Linea Cliente" required></ion-input>
                  <ion-label class="ion-no-margin" *ngIf="f.submitted && f.controls['lineacliente'].errors">Este campo es obligatorio</ion-label>
                </ion-item>

                <ion-item >
                  <ion-select [(ngModel)]="formulario.transaccion"  name="transaccion" slot="end" interface="popover" required ok-text="OK" cancel-text="CANCEL" placeholder="Elija Transaccion" >
                  
                    <ion-select-option  value="UpGrade+Descuento">UpGrade + Descuento</ion-select-option>
                    <ion-select-option  value="Descuento">Mismo CB + Descuento</ion-select-option>
                    
  
                  </ion-select>
                  <ion-label class="ion-no-margin" *ngIf="f.submitted && f.controls['transaccion'].errors">Este campo es obligatorio</ion-label>
                </ion-item>
                <!-- Input-field-text -->
                
              </div>
              <!-- Login button -->
              <ion-col size="12" class="ion-no-padding" *ngIf="stateForm">
                <button type="submit" class="btnFull ion-no-margin" >Guardar</button>
              </ion-col>

            </ion-col>
          </ion-row>
        </form>
        <ion-col size="12" class="ion-no-padding" *ngIf="!stateForm">
          <button type="submit" class="btnEditar ion-no-margin" (click)="actualizar()" >Confirmar Cambios</button>
        </ion-col>
        <ion-col size="12" class="ion-no-padding" *ngIf="!stateForm">
          <button type="submit" class="btnCancelar ion-no-margin" (click)="cancelar()" >cancelar</button>
        </ion-col>
        <ion-list>
          <ion-list-header> Mis registros </ion-list-header>
    
          <ion-item *ngFor="let dato of datos">
            <ion-avatar slot="start">
              <img src="../assets/icon/logoAMS.png" />
            </ion-avatar>
            <ion-label>
              <h2>Cedula cliente: {{dato.cedula_cliente}} </h2>
              <h3>Linea Cliente: {{dato.linea_cliente}}</h3>
              <p>Transaccion: {{dato.transaccion}} </p>
              <p>Fecha: {{dato.created_at}} </p>
            </ion-label>
            <ion-badge color="warning" slot="end" (click)="apdateCliente(dato.id)"><ion-icon name="pencil-outline"></ion-icon></ion-badge>
          </ion-item>
    
        </ion-list>
      </ion-col>
    </ion-row>

      
  </ion-grid>


</ion-content>
